<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AE-ComfyUI-Panels | After Effects + ComfyUI</title>
  <style>
    :root {
      --bg: #0d1117;
      --fg: #f5f5f5;
      --muted: #8b949e;
      --accent: #58a6ff;
      --line: #222;
      --maxw: 1150px;
      --base: 20px;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--fg);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
    }

    body {
      font-size: var(--base);
      line-height: 1.9;
    }

    header {
      text-align: center;
      padding: 3rem 1rem 2rem;
      background: linear-gradient(180deg, #141a22, var(--bg));
      border-bottom: 1px solid var(--line);
    }

    h1 {
      font-size: 3rem;
      margin: .25rem 0 .75rem;
    }

    h2 {
      font-size: 1.8rem;
      color: var(--accent);
      margin: 2.25rem 0 1rem;
    }

    h3 {
      font-size: 1.4rem;
      color: var(--fg);
      margin: 1.5rem 0 0.75rem;
    }

    h3 a {
      color: var(--fg);
      text-decoration: none;
      transition: color 0.2s;
    }

    h3 a:hover {
      color: var(--accent);
    }

    .container {
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 0 28px;
    }

    p, li {
      color: var(--fg);
      opacity: .92;
    }

    ul, ol {
      max-width: 900px;
      margin: 0;
      padding-left: 1.25rem;
      text-align: left;
    }

    section {
      text-align: left;
      padding: 1.5rem 0;
    }

    .lead {
      font-size: 1.2rem;
      color: var(--muted);
    }

    iframe {
      display: block;
      margin: 1.5rem 0;
      border-radius: 12px;
      box-shadow: 0 0 25px rgba(0,0,0,.55);
      width: 100%;
      max-width: 960px;
      height: 54vw;
      max-height: 540px;
    }

    .feature-image {
      display: block;
      margin: 2.5rem 0;
      border-radius: 12px;
      max-width: 100%;
      height: auto;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .feature-image:hover {
      transform: scale(1.02);
      box-shadow: 0 0 40px rgba(88, 166, 255, 0.3);
    }

    /* Lightbox styles */
    .lightbox {
      display: none;
      position: fixed;
      z-index: 9999;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .lightbox.active {
      display: flex;
    }

    .lightbox img {
      max-width: 95%;
      max-height: 95%;
      border-radius: 8px;
      box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
    }

    .lightbox-close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 40px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      z-index: 10000;
    }

    .lightbox-close:hover {
      color: var(--accent);
    }

    a.button {
      display: inline-block;
      margin: .8rem .5rem 0;
      padding: 1rem 1.6rem;
      border-radius: 10px;
      font-weight: 700;
      text-decoration: none;
      color: white;
      transition: filter .2s;
      font-size: 1rem;
    }

    a.download { background: #238636; }
    a.download:hover { filter: brightness(1.1); }

    a.github { background: #58a6ff; }
    a.github:hover { filter: brightness(1.1); }

    footer {
      margin-top: 3rem;
      text-align: left;
      font-size: 1rem;
      color: var(--muted);
      padding: 2rem 0;
    }

    @media (max-width: 520px) {
      h1 { font-size: 2.3rem; }
      h2 { font-size: 1.5rem; }
      :root { --base: 18px; }
    }
  </style>
</head>

<body>
  <header>
    <div class="container">
      <h1>üé¨ AE-ComfyUI-Panels</h1>
      <p class="lead">ScriptUI panels that connect Adobe After Effects with ComfyUI for AI-powered image generation</p>
    </div>
  </header>

  <main class="container">
    <!-- Demo video (replace src with your own Vimeo/YouTube link) -->
    <!-- <section>
      <iframe
        src="https://player.vimeo.com/video/XXXXXXXXX?badge=0&autopause=0&player_id=0&app_id=58479"
        frameborder="0"
        allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share"
        allowfullscreen
        title="AE-ComfyUI-Panels Demo"
      ></iframe>
    </section> -->

    <section>
      <h2>üß† Concept</h2>
      <p>
        <strong>AE-ComfyUI-Panels</strong> adds custom ScriptUI panels to
        <strong>Adobe After Effects</strong> that talk directly to
        <a href="https://github.com/comfyanonymous/ComfyUI" target="_blank">ComfyUI</a>.
        You can send prompts or selected layers from AE to your ComfyUI workflows, generate new images,
        and automatically import the results back into your composition ‚Äî all without leaving After Effects.
      </p>

      <!-- Showcase image (replace src with a screenshot from your repo) -->
      <img
        src="https://raw.githubusercontent.com/ckonteos80/Adobe-After-Effects-ComfyUI-Panels/main/Screenshots/AllPanels.jpg"
        alt="AE-ComfyUI-Panels Workflow"
        class="feature-image"
        onclick="openLightbox(this.src)"
      />
    </section>

    <section>
      <h2>üé® Panels</h2>
      
      <h3>üìù <a href="https://github.com/ckonteos80/Adobe-After-Effects-ComfyUI-Panels/tree/main/Text2Image" target="_blank">Text-to-Image Panel</a></h3>
      <ul>
        <li>Generate AI images from text prompts directly in After Effects</li>
        <li>Control resolution, steps, CFG, sampler, and scheduler settings</li>
        <li>Support for positive and negative prompts</li>
        <li>Automatic import of generated images into your AE project</li>
        <li>Workflow caching for faster loading of previously used workflows</li>
      </ul>

      <h3>üñºÔ∏è <a href="https://github.com/ckonteos80/Adobe-After-Effects-ComfyUI-Panels/tree/main/Image2Image" target="_blank">Image-to-Image Panel</a></h3>
      <ul>
        <li>Send selected layers to ComfyUI for AI-powered modifications</li>
        <li>Adjust denoise strength for controlling variation intensity</li>
        <li>Generate multiple variations with seed control and denoise increments</li>
        <li>Option to render with effects/transforms or use raw source files</li>
        <li>Automatic upload and processing via ComfyUI's /upload/image API</li>
      </ul>

      <h3>üìä <a href="https://github.com/ckonteos80/Adobe-After-Effects-ComfyUI-Panels/tree/main/JsonReader" target="_blank">JSON Metadata Reader</a></h3>
      <ul>
        <li>Inspect ComfyUI generation metadata (seed, CFG, steps, model, etc.)</li>
        <li>Extract workflow parameters from generated images</li>
        <li>Log settings for reproducibility and documentation</li>
      </ul>

      <h3>üîß Additional Features</h3>
      <ul>
        <li>Works with local ComfyUI setups (default: <code>http://127.0.0.1:8188</code>)</li>
        <li>Dynamic API introspection for sampler and scheduler options</li>
        <li>Persistent settings and workflow caching</li>
        <li>MIT-licensed, open for personal and commercial use</li>
      </ul>
    </section>

    <section>
      <h2>‚öôÔ∏è Installation</h2>
      <p><strong>Step 1: Clone or download the repo</strong></p>
      <ul>
        <li>
          Clone with Git:
          <code>git clone https://github.com/ckonteos80/AE-ComfyUI-Panels.git</code>
        </li>
        <li>Or download a ZIP from the latest release</li>
      </ul>

      <p><strong>Step 2: Install the panels into After Effects</strong></p>
      <ul>
        <li>Copy the panel scripts into your AE <code>Scripts/ScriptUI Panels/</code> folder</li>
        <li>Restart After Effects so it can detect the new panels</li>
        <li>Open them via <strong>Window ‚Üí AE-ComfyUI Panel</strong> (or respective panel names)</li>
      </ul>

      <a
        href="https://github.com/ckonteos80/AE-ComfyUI-Panels/releases/latest"
        target="_blank"
        class="button download"
      >‚¨áÔ∏è Download Latest Release</a>
      <a
        href="https://github.com/ckonteos80/AE-ComfyUI-Panels"
        target="_blank"
        class="button github"
      >üíª View Source on GitHub</a>
    </section>

    <section>
      <h2>‚ñ∂Ô∏è Usage</h2>
      <p><strong>Text-to-Image Panel</strong></p>
      <ul>
        <li>Open the Text2Image panel inside AE</li>
        <li>Enter your prompt, resolution, steps, and seed values</li>
        <li>Click <strong>Generate</strong> to send the request to ComfyUI</li>
        <li>The generated image is imported into your project and ready to use in a comp</li>
      </ul>

      <p><strong>Image-to-Image Panel</strong></p>
      <ul>
        <li>Select an image layer in your composition</li>
        <li>Open the Image2Image panel</li>
        <li>Adjust denoise/strength and other settings if available</li>
        <li>Generate variations; the results appear as new layers in your AE project</li>
      </ul>

      <p><strong>Metadata Reader</strong></p>
      <ul>
        <li>Use the JsonReader tools to inspect ComfyUI‚Äôs JSON output</li>
        <li>Log or embed seed/parameter info for reproducibility</li>
      </ul>
    </section>

    <section>
      <h2>üß© ComfyUI Setup</h2>
      <p>
        AE-ComfyUI-Panels expects a running ComfyUI server. Configure your panel‚Äôs API URL to point to
        your ComfyUI instance and load a workflow that accepts either a text prompt or
        an input image (depending on which panel you use).
      </p>
      <ul>
        <li>Start ComfyUI with the desired model/checkpoint loaded</li>
        <li>Ensure your workflow exposes the proper API nodes for Text2Image / Image2Image</li>
        <li>Optionally store outputs and JSON metadata where AE can read them</li>
      </ul>
    </section>
  </main>

  <!-- Lightbox for image zoom -->
  <div id="lightbox" class="lightbox" onclick="closeLightbox()">
    <span class="lightbox-close">&times;</span>
    <img id="lightbox-img" src="" alt="Enlarged view">
  </div>

  <footer>
    <p>Created by <strong>Christos Konteos</strong></p>
  </footer>

  <script>
    function openLightbox(src) {
      document.getElementById('lightbox').classList.add('active');
      document.getElementById('lightbox-img').src = src;
      document.body.style.overflow = 'hidden'; // Prevent scrolling when lightbox is open
    }

    function closeLightbox() {
      document.getElementById('lightbox').classList.remove('active');
      document.body.style.overflow = ''; // Restore scrolling
    }

    // Close lightbox on Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeLightbox();
      }
    });
  </script>
</body>
</html>
